{"openapi":"3.1.0","info":{"title":"Arabic Text Analysis API","description":"API for Arabic text classification, summarization, and preprocessing","version":"1.0.0"},"paths":{"/":{"get":{"summary":"Read Root","description":"API welcome message and endpoint documentation.","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Read Root  Get"}}}}}}},"/classify":{"post":{"summary":"Classify Text","description":"Classify Arabic text with probability distribution and metadata.","operationId":"classify_text_classify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TextInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassificationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/classify/batch":{"post":{"summary":"Classify Texts","description":"Classify multiple Arabic texts in batch.","operationId":"classify_texts_classify_batch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchTextInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchClassificationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/summarize":{"post":{"summary":"Summarize Text","description":"Summarize Arabic text with sentence analysis.","operationId":"summarize_text_summarize_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TextInputWithSentences"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SummarizationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sentence-analysis":{"post":{"summary":"Analyze Sentences","description":"Analyze all sentences with scores and rankings.","operationId":"analyze_sentences_sentence_analysis_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TextInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SentenceAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyze":{"post":{"summary":"Analyze Text Complete","description":"Complete analysis: classification, summarization, and text statistics.","operationId":"analyze_text_complete_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TextInputWithSentences"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompleteAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/preprocess":{"post":{"summary":"Preprocess Text","description":"Preprocess text with step-by-step breakdown.","operationId":"preprocess_text_preprocess_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreprocessingInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreprocessingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/text-analysis":{"post":{"summary":"Analyze Text Characteristics","description":"Analyze text characteristics and statistics.","operationId":"analyze_text_characteristics_text_analysis_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TextInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TextAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/model-info":{"get":{"summary":"Get Model Info","description":"Get information about loaded models.","operationId":"get_model_info_model_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelInfoResponse"}}}}}}}},"components":{"schemas":{"BatchClassificationResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/ClassificationResponse"},"type":"array","title":"Results"},"total_texts":{"type":"integer","title":"Total Texts"},"model_used":{"type":"string","title":"Model Used"}},"type":"object","required":["results","total_texts","model_used"],"title":"BatchClassificationResponse","example":{"model_used":"svm_classifier","results":[{"cleaned_text":"يكن سعر فاكه خضرو موسم انبات اقل غير موسم","confidence":0.902,"model_used":"svm_classifier","prediction":"culture","prediction_index":0,"prediction_metadata":{"entropy":0.393,"max_probability":0.902,"min_probability":0.0,"num_classes":6},"probability_distribution":{"culture":0.902,"economy":0.001,"international":0.0,"local":0.061,"religion":0.0,"sports":0.036}}],"total_texts":3}},"BatchTextInput":{"properties":{"texts":{"items":{"type":"string"},"type":"array","title":"Texts"}},"type":"object","required":["texts"],"title":"BatchTextInput","example":{"texts":["يكون سعر الفاكهة والخضراوات في موسم إنباتها أقل من غيره من المواسم. ستلجأ محلات الخضروات إلى عرض الفاكهة بأسعار مناسبة في موسمها بسبب توفر المنتجات. لا يقتصر الأمر على السعر الأقل، بل سيكون طعامك أشهى وألذ عند تناوله في موسمه. في فصل الخريف يتوفر التفاح والتين والبنجر والكمثرى.","هذا نص تجريبي آخر للتصنيف باللغة العربية.","المطاعم في المدينة تقدم أطباق شهية ومتنوعة."]}},"ClassificationResponse":{"properties":{"prediction":{"type":"string","title":"Prediction"},"prediction_index":{"type":"integer","title":"Prediction Index"},"confidence":{"type":"number","title":"Confidence"},"probability_distribution":{"additionalProperties":{"type":"number"},"type":"object","title":"Probability Distribution"},"cleaned_text":{"type":"string","title":"Cleaned Text"},"model_used":{"type":"string","title":"Model Used"},"prediction_metadata":{"additionalProperties":true,"type":"object","title":"Prediction Metadata"}},"type":"object","required":["prediction","prediction_index","confidence","probability_distribution","cleaned_text","model_used","prediction_metadata"],"title":"ClassificationResponse","example":{"cleaned_text":"يكن سعر فاكه خضرو موسم انبات اقل غير موسم","confidence":0.902,"model_used":"svm_classifier","prediction":"culture","prediction_index":0,"prediction_metadata":{"entropy":0.393,"max_probability":0.902,"min_probability":0.0,"num_classes":6},"probability_distribution":{"culture":0.902,"economy":0.001,"international":0.0,"local":0.061,"religion":0.0,"sports":0.036}},"schema_extra":{"properties":{"prediction_index":{"description":"Numerical index of the predicted class (0=culture, 1=economy, 2=international, 3=local, 4=religion, 5=sports)"}}}},"CompleteAnalysisResponse":{"properties":{"original_text":{"type":"string","title":"Original Text"},"text_analysis":{"additionalProperties":true,"type":"object","title":"Text Analysis"},"classification":{"$ref":"#/components/schemas/ClassificationResponse"},"summarization":{"$ref":"#/components/schemas/SummarizationResponse"}},"type":"object","required":["original_text","text_analysis","classification","summarization"],"title":"CompleteAnalysisResponse","example":{"classification":{"cleaned_text":"يكن سعر فاكه خضرو موسم انبات اقل غير موسم","confidence":0.902,"model_used":"svm_classifier","prediction":"culture","prediction_index":0,"prediction_metadata":{"entropy":0.393,"max_probability":0.902,"min_probability":0.0,"num_classes":6},"probability_distribution":{"culture":0.902,"economy":0.001,"international":0.0,"local":0.061,"religion":0.0,"sports":0.036}},"original_text":"يكون سعر الفاكهة والخضراوات في موسم إنباتها أقل من غيره من المواسم. ستلجأ محلات الخضروات إلى عرض الفاكهة بأسعار مناسبة في موسمها بسبب توفر المنتجات. لا يقتصر الأمر على السعر الأقل، بل سيكون طعامك أشهى وألذ عند تناوله في موسمه. في فصل الخريف يتوفر التفاح والتين والبنجر والكمثرى.","summarization":{"original_sentence_count":4,"selected_indices":[1,2],"sentence_scores":[2.968,3.224,3.234,2.642],"sentences":["يكون سعر الفاكهة والخضراوات في موسم إنباتها أقل من غيره من المواسم","ستلجأ محلات الخضروات إلى عرض الفاكهة بأسعار مناسبة في موسمها بسبب توفر المنتجات","لا يقتصر الأمر على السعر الأقل، بل سيكون طعامك أشهى وألذ عند تناوله في موسمه","في فصل الخريف يتوفر التفاح والتين والبنجر والكمثرى"],"summary":"ستلجأ محلات الخضروات إلى عرض الفاكهة بأسعار مناسبة في موسمها بسبب توفر المنتجات لا يقتصر الأمر على السعر الأقل، بل سيكون طعامك أشهى وألذ عند تناوله في موسمه","summary_sentence_count":2,"top_sentence_scores":[3.224,3.234]},"text_analysis":{"arabic_character_count":252,"arabic_character_ratio":0.8936,"average_sentence_length":11.5,"average_word_length":5.48,"character_count":282,"has_diacritics":false,"punctuation_count":3,"sentence_count":4,"word_count":46}}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ModelInfoResponse":{"properties":{"classifier":{"additionalProperties":true,"type":"object","title":"Classifier"},"summarizer":{"additionalProperties":true,"type":"object","title":"Summarizer"}},"type":"object","required":["classifier","summarizer"],"title":"ModelInfoResponse","example":{"classifier":{"classes":["culture","economy","international","local","religion","sports"],"model_loaded":true,"model_name":"svm_classifier","model_type":"SVM with TF-IDF vectorization","num_classes":6,"vectorizer_loaded":true},"summarizer":{"model_type":"TF-IDF based summarization","vectorizer_loaded":true}}},"PreprocessingInput":{"properties":{"text":{"type":"string","title":"Text"},"task_type":{"$ref":"#/components/schemas/TaskType","default":"classification"}},"type":"object","required":["text"],"title":"PreprocessingInput","example":{"task_type":"classification","text":"يكون سعر الفاكهة والخضراوات في موسم إنباتها أقل من غيره من المواسم. ستلجأ محلات الخضروات إلى عرض الفاكهة بأسعار مناسبة في موسمها بسبب توفر المنتجات. لا يقتصر الأمر على السعر الأقل، بل سيكون طعامك أشهى وألذ عند تناوله في موسمه. في فصل الخريف يتوفر التفاح والتين والبنجر والكمثرى."}},"PreprocessingResponse":{"properties":{"task_type":{"type":"string","title":"Task Type"},"preprocessing_steps":{"additionalProperties":true,"type":"object","title":"Preprocessing Steps"}},"type":"object","required":["task_type","preprocessing_steps"],"title":"PreprocessingResponse","example":{"preprocessing_steps":{"final_result":"سعر فاكه خضرو موسم انبات اقل غير موسم","original_text":"يكون سعر الفاكهة والخضراوات في موسم إنباتها أقل من غيره من المواسم. ستلجأ محلات الخضروات إلى عرض الفاكهة بأسعار مناسبة في موسمها بسبب توفر المنتجات. لا يقتصر الأمر على السعر الأقل، بل سيكون طعامك أشهى وألذ عند تناوله في موسمه. في فصل الخريف يتوفر التفاح والتين والبنجر والكمثرى.","preprocessing_summary":{"final_length":47,"original_length":282,"reduction_percentage":83.3,"words_remaining":7,"words_removed":39},"step_1_remove_diacritics":"يكون سعر الفاكهة والخضراوات في موسم انباتها اقل من غيره من المواسم","step_2_remove_punctuation":"يكون سعر الفاكهة والخضراوات في موسم انباتها اقل من غيره من المواسم","step_3_normalize_text":"يكون سعر الفاكهة والخضراوات في موسم انباتها اقل من غيره من المواسم","step_4_remove_stopwords":"سعر فاكهة خضراوات موسم انباتها اقل غيره مواسم","step_5_stem_words":"سعر فاكه خضرو موسم انبات اقل غير موسم"},"task_type":"classification"}},"SentenceAnalysisResponse":{"properties":{"sentences":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Sentences"},"total_sentences":{"type":"integer","title":"Total Sentences"},"score_statistics":{"additionalProperties":{"type":"number"},"type":"object","title":"Score Statistics"}},"type":"object","required":["sentences","total_sentences","score_statistics"],"title":"SentenceAnalysisResponse","example":{"score_statistics":{"max":3.234,"mean":3.017,"min":2.642,"std":0.254},"sentences":[{"index":0,"rank":3,"score":2.968,"sentence":"يكون سعر الفاكهة والخضراوات في موسم إنباتها أقل من غيره من المواسم"},{"index":1,"rank":2,"score":3.224,"sentence":"ستلجأ محلات الخضروات إلى عرض الفاكهة بأسعار مناسبة في موسمها بسبب توفر المنتجات"},{"index":2,"rank":1,"score":3.234,"sentence":"لا يقتصر الأمر على السعر الأقل، بل سيكون طعامك أشهى وألذ عند تناوله في موسمه"},{"index":3,"rank":4,"score":2.642,"sentence":"في فصل الخريف يتوفر التفاح والتين والبنجر والكمثرى"}],"total_sentences":4}},"SummarizationResponse":{"properties":{"summary":{"type":"string","title":"Summary"},"original_sentence_count":{"type":"integer","title":"Original Sentence Count"},"summary_sentence_count":{"type":"integer","title":"Summary Sentence Count"},"sentences":{"items":{"type":"string"},"type":"array","title":"Sentences"},"selected_indices":{"items":{"type":"integer"},"type":"array","title":"Selected Indices"},"sentence_scores":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Sentence Scores"},"top_sentence_scores":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Top Sentence Scores"}},"type":"object","required":["summary","original_sentence_count","summary_sentence_count","sentences","selected_indices","sentence_scores","top_sentence_scores"],"title":"SummarizationResponse","example":{"original_sentence_count":4,"selected_indices":[1,2],"sentence_scores":[2.968,3.224,3.234,2.642],"sentences":["يكون سعر الفاكهة والخضراوات في موسم إنباتها أقل من غيره من المواسم","ستلجأ محلات الخضروات إلى عرض الفاكهة بأسعار مناسبة في موسمها بسبب توفر المنتجات","لا يقتصر الأمر على السعر الأقل، بل سيكون طعامك أشهى وألذ عند تناوله في موسمه","في فصل الخريف يتوفر التفاح والتين والبنجر والكمثرى"],"summary":"ستلجأ محلات الخضروات إلى عرض الفاكهة بأسعار مناسبة في موسمها بسبب توفر المنتجات لا يقتصر الأمر على السعر الأقل، بل سيكون طعامك أشهى وألذ عند تناوله في موسمه","summary_sentence_count":2,"top_sentence_scores":[3.224,3.234]}},"TaskType":{"type":"string","enum":["classification","summarization"],"title":"TaskType"},"TextAnalysisResponse":{"properties":{"text":{"type":"string","title":"Text"},"analysis":{"additionalProperties":true,"type":"object","title":"Analysis"}},"type":"object","required":["text","analysis"],"title":"TextAnalysisResponse","example":{"analysis":{"arabic_character_count":252,"arabic_character_ratio":0.8936,"average_sentence_length":11.5,"average_word_length":5.48,"character_count":282,"has_diacritics":false,"punctuation_count":3,"sentence_count":4,"word_count":46},"text":"يكون سعر الفاكهة والخضراوات في موسم إنباتها أقل من غيره من المواسم. ستلجأ محلات الخضروات إلى عرض الفاكهة بأسعار مناسبة في موسمها بسبب توفر المنتجات. لا يقتصر الأمر على السعر الأقل، بل سيكون طعامك أشهى وألذ عند تناوله في موسمه. في فصل الخريف يتوفر التفاح والتين والبنجر والكمثرى."}},"TextInput":{"properties":{"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"title":"TextInput","example":{"text":"يكون سعر الفاكهة والخضراوات في موسم إنباتها أقل من غيره من المواسم. ستلجأ محلات الخضروات إلى عرض الفاكهة بأسعار مناسبة في موسمها بسبب توفر المنتجات. لا يقتصر الأمر على السعر الأقل، بل سيكون طعامك أشهى وألذ عند تناوله في موسمه. في فصل الخريف يتوفر التفاح والتين والبنجر والكمثرى."}},"TextInputWithSentences":{"properties":{"text":{"type":"string","title":"Text"},"num_sentences":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Sentences","default":3}},"type":"object","required":["text"],"title":"TextInputWithSentences","example":{"num_sentences":2,"text":"يكون سعر الفاكهة والخضراوات في موسم إنباتها أقل من غيره من المواسم. ستلجأ محلات الخضروات إلى عرض الفاكهة بأسعار مناسبة في موسمها بسبب توفر المنتجات. لا يقتصر الأمر على السعر الأقل، بل سيكون طعامك أشهى وألذ عند تناوله في موسمه. في فصل الخريف يتوفر التفاح والتين والبنجر والكمثرى."}},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}